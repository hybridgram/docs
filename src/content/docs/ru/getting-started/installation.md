---
title: –£—Å—Ç–∞–Ω–æ–≤–∫–∞
description: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–∞ Laravel Async Telegram
---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ Composer

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–∞–∫–µ—Ç –≤ –≤–∞—à Laravel –ø—Ä–æ–µ–∫—Ç:

```bash
composer require hybridgram/tgbot-laravel
```

## –ü—É–±–ª–∏–∫–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–û–ø—É–±–ª–∏–∫—É–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª –ø–∞–∫–µ—Ç–∞:

```bash
php artisan vendor:publish --provider="HybridGram\Providers\TelegramServiceProvider"
```

–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç —Ñ–∞–π–ª `config/hybridgram.php`, –≤ –∫–æ—Ç–æ—Ä–æ–º –≤—ã —Å–º–æ–∂–µ—Ç–µ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–∞–±–æ—Ç—É —Å –±–æ—Ç–∞–º–∏.

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ –≤–∞—à `.env` —Ñ–∞–π–ª:

```env
# –¢–æ–∫–µ–Ω –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –æ—Ç @BotFather
BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞

# ID –±–æ—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 'main')
# –ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞—Ç—å, –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è BOT_TOKEN –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞
BOT_ID=main

# –†–µ–∂–∏–º –ø–æ–ª—É—á–µ–Ω–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π: POLLING –∏–ª–∏ WEBHOOK
TELEGRAM_UPDATE_MODE=POLLING

# –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É —Å —Ä–æ—É—Ç–∞–º–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
TELEGRAM_ROUTES_FILE=routes/telegram.php
```

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è Webhook

–ï—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ —Ä–µ–∂–∏–º Webhook, –¥–æ–±–∞–≤—å—Ç–µ:

```env
# URL –¥–ª—è –≤–µ–±—Ö—É–∫–∞
TELEGRAM_WEBHOOK_URL=https://–≤–∞—à-–¥–æ–º–µ–Ω.com/telegram/bot/webhook/main

# Secret token –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
TELEGRAM_SECRET_TOKEN=–≤–∞—à_—Å–µ–∫—Ä–µ—Ç–Ω—ã–π_—Ç–æ–∫–µ–Ω

# –ü–æ—Ä—Ç –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–µ–±—Ö—É–∫–æ–≤ (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Go –æ–±—Ä–∞–±–æ—Ç—á–∏–∫)
TELEGRAM_WEBHOOK_PORT=9070

# –ü—É—Ç—å –∫ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—É (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è)
TELEGRAM_CERTIFICATE_PATH=/path/to/certificate.pem

# –£–¥–∞–ª–∏—Ç—å –æ–∂–∏–¥–∞—é—â–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –≤–µ–±—Ö—É–∫–∞
TELEGRAM_WEBHOOK_DROP_PENDING=false
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Polling

–î–ª—è —Ä–µ–∂–∏–º–∞ Polling:

```env
# –õ–∏–º–∏—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –∑–∞ –æ–¥–∏–Ω –∑–∞–ø—Ä–æ—Å (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 100)
TELEGRAM_POLLING_LIMIT=100

# –¢–∞–π–º–∞—É—Ç –∑–∞–ø—Ä–æ—Å–∞ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0)
TELEGRAM_POLLING_TIMEOUT=0

# –†–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ —Ç–∏–ø—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)
ALLOWED_TELEGRAM_UPDATES=message,callback_query
```

## –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ —Ä–æ—É—Ç–æ–≤

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ä–æ—É—Ç–æ–≤ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —ç—Ç–æ `routes/telegram.php`:

```php
<?php

use HybridGram\Facades\TelegramRouter;
use HybridGram\Core\Routing\RouteData\CommandData;

TelegramRouter::onCommand('/start', function(CommandData $data) {
    $telegram = app(\HybridGram\Telegram\TelegramBotApi::class);
    $telegram->sendMessage($data->chatId, '–ü—Ä–∏–≤–µ—Ç! üëã');
});
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:

1. ‚úÖ –ü–∞–∫–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω —á–µ—Ä–µ–∑ Composer
2. ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω
3. ‚úÖ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
4. ‚úÖ –§–∞–π–ª —Ä–æ—É—Ç–æ–≤ —Å–æ–∑–¥–∞–Ω

## –ß—Ç–æ –¥–∞–ª—å—à–µ?

- **[–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](/ru/getting-started/configuration/)** ‚Äî –¥–µ—Ç–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞–∫–µ—Ç–∞
- **[–°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ —Ä–æ—É—Ç–∞](/ru/basics/routing/)** ‚Äî –Ω–∞—á–Ω–∏—Ç–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
